{% extends 'base.html' %}
{% load static %}

{% block breadcrumbs %}
  {% with page_name='Menu' %}
    {{ block.super }}
  {% endwith %}
{% endblock %}

{% block content %}

<style>

    button {
        background-color: #212121;
        color: white;
        font-size: 12px;
        font-weight: 900;
        box-shadow: 0px 5px 10px #212121;
        border: 0;
        border-radius: 0;
        height: 2rem;
    }

    button:hover {
        background-color: rgb(255, 176, 59);
    }

    input {
        border-radius: 0;
        height: 2rem;
    }

    .thumbnail {
        border: none;
        height: 200px;
        width: 200px;
        object-fit: contain;
    }

    .product {
        box-shadow: 0 20px 40px rgba(0, 0, 0, .2);
        border-radius: 5px;
        padding: 2rem;
        margin: 1rem;
    }
</style>

<div class="container">

    <div class="section-title mt-5">
        <h2>Our Delicious <span>Foods</span></h2>
    </div>


    <div class="row d-flex justify-content-around">
        {% for product in products %}
            <div class="product col-md-3 col-12 d-flex flex-column justify-content-between">
                <div class="d-flex flex-column align-items-center mb-3">
                    <img class='mx-auto thumbnail' src="{{product.image.url}}">
                    <h5 class="font-weight-bold">{{product.name}}</h5>
                    <p class="card-text">${{ product.price|floatformat:2 }}</p>
                </div>
                <p class="mx-auto d-flex flex-wrap justify-content-center text-muted">
                    {% for recipe in product.recipe_set.all %}
                        <span>
                          {{ recipe.ingredient.name | capfirst }}
                          {% if recipe != product.recipe_set.all.last %},&emsp;{% endif %}
                        </span>
                    {%endfor%}
                </p>
                <form class="row d-flex justify-content-around" method="POST">
                    {% csrf_token %}
                    <input type="number" class="col-3" value="1" min="0" name="quantity_{{ product.id }}">
                    <button type="submit" class="col-6">ADD TO CART</button>
                </form>
            </div>
        {% endfor %}
    </div>
</div>



{% endblock %}
